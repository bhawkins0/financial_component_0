<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.12/css/intlTelInput.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
</head>

<div class="page_title_div">
  <h2 class="pageTitle display-4">Add Mobile</h2>
</div>

<%if @current_user.mobile = nil || @current_user.mobile = ''%>
  <p>Providing a mobile number will help secure your account with 2FA and enable streamlined access to Plaid.</p>
  <p>Please select your country and enter a mobile phone number to generate an authorization code that will be sent to you instantly.</p>
  <p>If you already have an authorization code, <a href="#/activate/[INSERT CODE]]/sms_verify">click here.</a></p>

  <form id="validate_mobile" onsubmit="submitMobile(event)">
    <div class="mb-3">
      <label for="mobileInput" class="form-label">Phone Number</label>
      <input name="recipient" type="tel" class="form-control" id="mobileInput" aria-describedby="mobileHelp" placeholder="Insert Phone Number" required>    
      <div id="mobileHelp" class="form-text">We'll never share your mobile number with anyone else.</div>
    </div>
    <button type="submit" class="btn btn-primary">Send Validation Code</button>
  </form>
<%end%>

<div class="div_spacing text-success" id="login_notice"><%=notice%></div>
<div class="div_spacing text-danger" id="login_alert"><%=alert%></div>

<script type="text/javascript" src="/javascript/add_mobile.js"></script>